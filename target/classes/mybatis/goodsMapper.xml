<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="g">
	<select id="selectAll" resultType="com.got.vo.GoodsVO">
		SELECT * FROM goods g, category c WHERE g.c_no = c.c_no
	</select>
	
	<select id="selectOne" resultType="com.got.vo.GoodsVO">
		SELECT * FROM goods g, category c WHERE g.c_no = c.c_no AND g.g_no = #{g_no}
	</select>

	<insert id="insert">
		INSERT INTO goods(g_no, c_no, name, detail, stock, 
		purchase_price, sell_price, discount_rate, saving_mileage, status_code)
		VALUES(g_no.nextval, #{c_no}, #{name}, #{detail}, #{stock}, 
		#{purchase_price}, #{sell_price}, #{discount_rate}, #{saving_mileage}, #{status_code})
	</insert>
	
	<update id="updateStock">
		UPDATE goods SET stock = #{stock} WHERE g_no = #{g_no}
	</update>
	
	<update id="update">
		UPDATE goods SET 
			c_no = #{c_no}, name = #{name}, 
			detail = #{detail}, purchase_price = #{purchase_price}, 
			sell_price = #{sell_price}, discount_rate = #{discount_rate}, 
			saving_mileage = #{saving_mileage}, status_code = #{status_code}
		WHERE g_no = #{g_no}
	</update>
	
	<delete id="deleteOne">
		DELETE goods WHERE g_no = #{g_no}
	</delete>
</mapper>